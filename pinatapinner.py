import json
import requests
import ipfsapi
api = ipfsapi.Client('127.0.0.1', 5001)


with open('json/list_ipfs.json') as f:
  data = json.load(f)

print(data[0])

API Key
d4729e7ef38921f489bb

API Secret
f0f0fe9442ad27384ffd73f602f720449069ebbac95575576ca2ee1f18aafb39

JWT
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI1NDMwMzE3YS1lYjIxLTQzOWQtOTFhOS01NGI1MjZjNTExNmUiLCJlbWFpbCI6InU1MTEuNTExLjUxMXVAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBpbl9wb2xpY3kiOnsicmVnaW9ucyI6W3siaWQiOiJOWUMxIiwiZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjF9XSwidmVyc2lvbiI6MX0sIm1mYV9lbmFibGVkIjpmYWxzZX0sImF1dGhlbnRpY2F0aW9uVHlwZSI6InNjb3BlZEtleSIsInNjb3BlZEtleUtleSI6ImQ0NzI5ZTdlZjM4OTIxZjQ4OWJiIiwic2NvcGVkS2V5U2VjcmV0IjoiZjBmMGZlOTQ0MmFkMjczODRmZmQ3M2Y2MDJmNzIwNDQ5MDY5ZWJiYWM5NTU3NTU3NmNhMmVlMWYxOGFhZmIzOSIsImlhdCI6MTYyMDE0NzE3OX0.1rV55olLz6kX3AC490B_fv6rOkY14QzH7WR92mqcD6E


pinataBaseURL= "https://api.pinata.cloud/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI1NDMwMzE3YS1lYjIxLTQzOWQtOTFhOS01NGI1MjZjNTExNmUiLCJlbWFpbCI6InU1MTEuNTExLjUxMXVAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBpbl9wb2xpY3kiOnsicmVnaW9ucyI6W3siaWQiOiJOWUMxIiwiZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjF9XSwidmVyc2lvbiI6MX0sIm1mYV9lbmFibGVkIjpmYWxzZX0sImF1dGhlbnRpY2F0aW9uVHlwZSI6InNjb3BlZEtleSIsInNjb3BlZEtleUtleSI6ImI3MmE1M2MzY2YyOTcwY2RlYjk5Iiwic2NvcGVkS2V5U2VjcmV0IjoiYmUxNTY2ODYxNjg2MjY0MzQzNWYyOGUwMjlhZTVjZmU5MWQ0ZWRlM2ZmMjY1MjQ1ODExNGMzZDQ0N2FjYjQxMSIsImlhdCI6MTYxOTk3MTM4N30.lkwJ6aHx9ByF7uXLVkFIKeHe9mf7DBlrapK_4fYh1JQ/pin"
#(put your personal pinata api key here)
headers = {'pinata_api_key': 'b72a53c3cf2970cdeb99' ,
'pinata_secret_api_key': 'be15668616862643435f28e029ae5cfe91d4ede3ff2652458114c3d447acb411'} #(put your personal pinata secret api key here)

headers2 = {'Authorization':'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiI1NDMwMzE3YS1lYjIxLTQzOWQtOTFhOS01NGI1MjZjNTExNmUiLCJlbWFpbCI6InU1MTEuNTExLjUxMXVAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsInBpbl9wb2xpY3kiOnsicmVnaW9ucyI6W3siaWQiOiJOWUMxIiwiZGVzaXJlZFJlcGxpY2F0aW9uQ291bnQiOjF9XSwidmVyc2lvbiI6MX0sIm1mYV9lbmFibGVkIjpmYWxzZX0sImF1dGhlbnRpY2F0aW9uVHlwZSI6InNjb3BlZEtleSIsInNjb3BlZEtleUtleSI6ImM0MDJkNmFkYzc3MTE2ZTlhMTY2Iiwic2NvcGVkS2V5U2VjcmV0IjoiMWJmNGY4YjNlMTEzNzA4ZDNiZjRlYmM4MjZjOTkwZDViNWQ3MDVmYzJmNmZiYWQzODliM2I2OWVmNGJiZTc0MCIsImlhdCI6MTYyMDE0NzUzMH0.eO175BmuIonHZxwknDh1VSwiIwdMAO3VGZCUyv6pX9g' } #(put your personal pinata secret api key here)


pinFile = "https://api.pinata.cloud/psa/pins"

print(type(headers))


for i in range(len(data)):
    pin={
    "cid": data[i]["Hash"],
    "name": data[i]["Name"]
    }



    r = requests.post(url=pinFile , json = pin, headers= headers2)

    print(r.status_code)



